<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Front-end test</title>
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="node_modules/normalize-css/normalize.css">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body ng-app='app'>
    <div ng-controller="mainController as vm">
      <div class="logo">
        <img class="logo__image" ng-class="{'small': vm.albumsSpotify.length > 0}" src="images/logo.png" alt="logo">
      </div>
      <div class="container">
          <div class="search-form">
            <label>
              <input type="text" class="search-input" placeholder="Enter artist" ng-model="vm.query" ng-keypress="($event.which === 13)? vm.search() : 0">
            </label>

            <div class="switch" ng-init='mode = "spotify"'>
              <input type="radio" class="switch-input" name="mode" ng-model="mode" value="spotify" id="spotify-radio" checked>
              <label for="spotify-radio" class="switch-label switch-label-off">Spotify</label>

              <input type="radio" class="switch-input" name="mode" ng-model="mode" value="itunes" id="itunes-radio">
              <label for="itunes-radio" class="switch-label switch-label-on">Itunes</label>

              <span class="switch-selection"></span>
            </div>
          </div>

          <div class="album-list" ng-switch on="mode" ng-cloak>
            <!-- Spotify -->
            <ul ng-switch-when="spotify">
              <li class="album" ng-repeat="album in vm.albumsSpotify" ng-class="$even ? 'even-row' : 'odd-row'">
                <div class="infobox">
                  <div class="title">
                    <h3>{{album.name}}</h3>
                    <span class="above-title">
                      {{album.album_type}}
                    </span>
                  </div>
                  <div class="info"><p>by {{album.artists[0].name}}</p></div>
                  <div class="listen">
                    <p>
                      <a href="{{album.external_urls.spotify}}" target="_blank">Listen on Spotify</a>
                    </p>
                  </div>
                </div>
                <div class="image">
                  <img ng-src="{{album.images[1].url}}" alt="{{album.name}}" width="150" height="150">
                </div>
              </li>
            </ul>

            <!-- iTunes -->
            <ul ng-switch-when="itunes">
              <li class="album" ng-repeat="album in vm.albumsItunes" ng-class="$even ? 'even-row' : 'odd-row'">
                <div class="infobox">
                  <div class="title">
                    <h3>{{album.collectionName}}</h3>
                    <span class="above-title">
                      {{album.copyright}}
                    </span>
                  </div>
                  <div class="info">
                    <p>by {{album.artistName}}</p>
                    <p>Genre: {{album.primaryGenreName}}</p>
                    <p>Tracks: {{album.trackCount}}</p>
                  </div>
                  <div class="listen">
                    <p>
                      <a href="{{album.collectionViewUrl}}" target="_blank">Listen on ITunes</a>
                    </p>
                  </div>
                </div>
                <div class="image">
                  <img ng-src="{{album.artworkUrl100}}" alt="{{album.name}}" width="125" height="125">
                </div>
              </li>
            </ul>

          </div>
      </div>
    </div>

    <script src="node_modules/angular/angular.js"></script>
    <script src="node_modules/angular-resource/angular-resource.js"></script>
    <script src="js/app.js"></script>
    <script src="js/mainController.js"></script>
    <script src="js/spotifyFactory.js"></script>
    <script src="js/iTunesFactory.js"></script>
  </body>
</html>
